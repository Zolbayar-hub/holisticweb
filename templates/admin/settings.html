{% extends "admin/base.html" %}

{% block title %}Home Page Settings{% endblock %}
{% block page_title %}Home Page Settings{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-home me-2"></i>
                    Home Page Content Management
                </h5>
            </div>
            <div class="card-body">
                <form method="POST" enctype="multipart/form-data">
                    
                    <!-- Hero Section -->
                    <div class="mb-4">
                        <h6 class="text-primary">
                            <i class="fas fa-star me-1"></i>
                            Hero Section
                        </h6>
                        <hr>
                        
                        <div class="mb-3">
                            <label for="hero_title" class="form-label">Hero Title</label>
                            <input type="text" class="form-control" id="hero_title" name="setting_hero_title" 
                                   value="{{ settings_dict.get('hero_title', 'Holistic Therapy') }}">
                        </div>

                        <div class="mb-3">
                            <label for="hero_subtitle" class="form-label">Hero Subtitle</label>
                            <textarea class="form-control" id="hero_subtitle" name="setting_hero_subtitle" 
                                      rows="3">{{ settings_dict.get('hero_subtitle', 'Discover the power of integrated healing for your mind, body, and spirit.') }}</textarea>
                        </div>

                        <div class="mb-3">
                            <label for="home_image" class="form-label">Background Image</label>
                            {% if settings_dict.get('home_image') %}
                            <div class="mb-2">
                                <img src="{{ url_for('static', filename=settings_dict.get('home_image')) }}" 
                                     alt="Current background" class="preview-image rounded">
                                <div class="text-muted small mt-1">Current background image</div>
                            </div>
                            {% endif %}
                            <input type="file" class="form-control" id="home_image" name="home_image" 
                                   accept="image/*" onchange="previewHomeImage(this)">
                            <div class="form-text">Upload a new background image for the hero section. Recommended size: 1920x1080px</div>
                            
                            <!-- Image preview -->
                            <div id="homeImagePreview" class="mt-2" style="display: none;">
                                <img id="homePreview" class="preview-image rounded" alt="Preview">
                                <div class="text-muted small mt-1">New image preview</div>
                            </div>
                        </div>
                    </div>

                    <!-- About Section -->
                    <div class="mb-4">
                        <h6 class="text-success">
                            <i class="fas fa-info-circle me-1"></i>
                            About Section
                        </h6>
                        <hr>

                        <div class="mb-3">
                            <label for="about_title" class="form-label">About Section Title</label>
                            <input type="text" class="form-control" id="about_title" name="setting_about_title" 
                                   value="{{ settings_dict.get('about_title', 'Our Holistic Approach') }}">
                        </div>

                        <div class="mb-3">
                            <label for="about_text_1" class="form-label">About Paragraph 1</label>
                            <textarea class="form-control" id="about_text_1" name="setting_about_text_1" 
                                      rows="3">{{ settings_dict.get('about_text_1', 'At Holistic Therapy, we believe that true healing encompasses all aspects of the human experience.') }}</textarea>
                        </div>

                        <div class="mb-3">
                            <label for="about_text_2" class="form-label">About Paragraph 2</label>
                            <textarea class="form-control" id="about_text_2" name="setting_about_text_2" 
                                      rows="3">{{ settings_dict.get('about_text_2', 'Our experienced practitioners work with you to create personalized treatment plans.') }}</textarea>
                        </div>

                        <div class="mb-3">
                            <label for="about_text_3" class="form-label">About Paragraph 3</label>
                            <textarea class="form-control" id="about_text_3" name="setting_about_text_3" 
                                      rows="3">{{ settings_dict.get('about_text_3', 'Whether you\'re seeking relief from stress or embarking on a journey of personal growth, we\'re here to support you.') }}</textarea>
                        </div>
                    </div>

                    <!-- Contact Section -->
                    <div class="mb-4">
                        <h6 class="text-info">
                            <i class="fas fa-envelope me-1"></i>
                            Contact Section
                        </h6>
                        <hr>

                        <div class="mb-3">
                            <label for="contact_title" class="form-label">Contact Section Title</label>
                            <input type="text" class="form-control" id="contact_title" name="setting_contact_title" 
                                   value="{{ settings_dict.get('contact_title', 'Begin Your Healing Journey') }}">
                        </div>

                        <div class="mb-3">
                            <label for="contact_text" class="form-label">Contact Section Text</label>
                            <textarea class="form-control" id="contact_text" name="setting_contact_text" 
                                      rows="2">{{ settings_dict.get('contact_text', 'Ready to take the first step? Contact us to schedule a consultation.') }}</textarea>
                        </div>
                    </div>

                    <!-- Footer -->
                    <div class="mb-4">
                        <h6 class="text-dark">
                            <i class="fas fa-copyright me-1"></i>
                            Footer
                        </h6>
                        <hr>

                        <div class="mb-3">
                            <label for="footer_text" class="form-label">Footer Text</label>
                            <input type="text" class="form-control" id="footer_text" name="setting_footer_text" 
                                   value="{{ settings_dict.get('footer_text', 'Holistic Therapy. All rights reserved. | Healing Mind, Body & Spirit') }}">
                        </div>
                    </div>

                    <!-- Business Information -->
                    <div class="mb-4">
                        <h6 class="text-warning">
                            <i class="fas fa-building me-1"></i>
                            Business Information
                        </h6>
                        <hr>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="business_phone" class="form-label">Phone Number</label>
                                    <input type="text" class="form-control" id="business_phone" name="setting_business_phone" 
                                           value="{{ settings_dict.get('business_phone', '') }}" placeholder="(555) 123-4567">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="business_email" class="form-label">Business Email</label>
                                    <input type="email" class="form-control" id="business_email" name="setting_business_email" 
                                           value="{{ settings_dict.get('business_email', '') }}" placeholder="info@holistictherapy.com">
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="business_address" class="form-label">Business Address</label>
                            <textarea class="form-control" id="business_address" name="setting_business_address" 
                                      rows="2" placeholder="123 Wellness St, Healing City, HC 12345">{{ settings_dict.get('business_address', '') }}</textarea>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between">
                        <a href="{{ url_for('admin_panel.admin_panel') }}" class="btn btn-secondary">
                            <i class="fas fa-arrow-left me-1"></i>
                            Back to Dashboard
                        </a>
                        <div>
                            <a href="{{ url_for('main.home') }}" class="btn btn-outline-info me-2" target="_blank">
                                <i class="fas fa-external-link-alt me-1"></i>
                                Preview Site
                            </a>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save me-1"></i>
                                Save Settings
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Tips Card -->
<div class="row mt-4">
    <div class="col-12">
        <div class="card bg-light">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-lightbulb me-2"></i>
                    Tips for Better Content
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h6>Hero Section</h6>
                        <ul class="small">
                            <li>Keep titles short and powerful</li>
                            <li>Use high-quality images (1920x1080px)</li>
                            <li>Focus on benefits to visitors</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h6>About Section</h6>
                        <ul class="small">
                            <li>Tell your story authentically</li>
                            <li>Highlight your unique approach</li>
                            <li>Build trust with credentials</li>
                        </ul>
                    </div>
                    <div class="col-md-4">
                        <h6>Contact Information</h6>
                        <ul class="small">
                            <li>Keep contact info current</li>
                            <li>Make it easy for customers to reach you</li>
                            <li>Include multiple contact methods</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
function previewHomeImage(input) {
    const preview = document.getElementById('homeImagePreview');
    const previewImg = document.getElementById('homePreview');
    
    if (input.files && input.files[0]) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
            previewImg.src = e.target.result;
            preview.style.display = 'block';
        }
        
        reader.readAsDataURL(input.files[0]);
    } else {
        preview.style.display = 'none';
    }
}
</script>
{% endblock %}
